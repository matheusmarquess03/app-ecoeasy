<%= form_for([:backoffice, @contract], html: { class: 'form' }) do |f| %>

  <br/>

  <div class="panel panel-default">
    <div class="panel-heading">
      <h1>Contrato</h1>
    </div>
    <br/>

    <div class="panel-body">
      <div class="col-lg-12">
        <div class="form-group">
          <div class="col-lg-6">
            <%= f.label :name %>
            <%= f.text_field :name, class: 'form-control' %>
            <br />
          </div>
        </div>
      </div>

      <div class="col-lg-12">
        <div class="form-group">
          <div class="col-lg-6">
            <%= f.label :observation %>
            <%= f.text_area :observation, class: 'form-control' %>
            <br />
          </div>
        </div>
      </div>

      <div class="col-lg-12">
        <div class="form-group">
          <div class="col-lg-6">
            <% if @contract.attachments.exists? %>
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>Nome do Arquivo</th>
                      <th>Tamanho do Arquivo</th>
                    </tr>
                  </thead>
                  <tbody>
                    <% @contract.attachments.each do |attachment| %>
                      <tr>
                        <td>
                          <%= link_to rails_blob_path(attachment, disposition: "attachment") do %>
                            <i class="fa fa-download"></i> <%= attachment.filename.to_s %>
                          <% end %>
                        </td>
                        <td><%= number_to_human_size(attachment.blob.byte_size) %> </td>
                        <td>
                          <%= link_to destroy_attachment_backoffice_contract_path(attachment.signed_id), method: :delete, data: { confirm: 'Tem certeza que deseja remover este arquivo?' } do %>
                            <i class="fa fa-times"></i> Remover arquivo
                          <% end %>
                        </td>
                      </tr>
                    <% end %>
                  </tbody>
                </table>
              </div>
            <% end %>
          </div>
        </div>
      </div>

      <div class="col-lg-12">
        <div class="form-group">
          <div class="col-lg-6">
            <%= f.file_field :attachments, multiple: true, direct_upload: true %>
            <br />
          </div>
        </div>
      </div>
    </div>
    <br />
  </div>
  <%= button_tag 'Salvar', class: 'btn btn-success btn-lg' %>
<% end %>
